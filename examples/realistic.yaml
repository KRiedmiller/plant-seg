infos:
  creation_date: 2025-05-14-13:24:49
  description: No description provided
  inputs_schema:
    export_directory:
      description: Output directory path where the image will be saved
      is_input_file: false
      required: true
      task: export_image_task
    input_path:
      description: Path to a file, or a directory containing files (all files will
        be imported) or list of paths.
      is_input_file: true
      required: true
      task: import_image_task
    name_pattern:
      description: 'Output file name pattern. Can contain the special {image_name}
        or {file_name} tokens '
      is_input_file: false
      required: false
      task: export_image_task
  instructions: This configuration file was generated by PlantSeg and can be used
    to run a headless workflow. In order to run the workflow, you will need to customize
    this file with the correct paths and parameters. To read detailed instructions
    on how to do this, please visit the PlantSeg documentation (https://kreshuklab.github.io/plant-seg/).
  version: 2.0.0b4
inputs:
- export_directory: /home/kriedmiller/projects/plant-seg/examples
  input_path: /home/kriedmiller/Downloads/LRP1 Channel1.tif
  name_pattern: '{file_name}_export'
list_tasks:
- func: import_image_task
  id: 7e9b75f2-79a2-4350-beba-49b39db262bb
  images_inputs:
    input_path: input_path
  node_type: root
  outputs:
  - LRP1 Channel1_12a3ef1b-aa95-45f4-83f3-7081f3b3ebce
  parameters:
    image_name: LRP1 Channel1
    key: null
    m_slicing: null
    semantic_type: raw
    stack_layout: ZYX
  skip: false
- func: unet_prediction_task
  id: c516cd75-366b-4f9b-8ea5-a6256703074b
  images_inputs:
    image: LRP1 Channel1_12a3ef1b-aa95-45f4-83f3-7081f3b3ebce
  node_type: node
  outputs:
  - LRP1 Channel1_generic_confocal_3D_unet_0_88052862-d88b-4bf7-9a7c-aa015ae97418
  parameters:
    _tracker:
      progress: 4
      total: 4
    config_path: null
    device: cuda:0
    disable_tqdm: false
    model_id: null
    model_name: generic_confocal_3D_unet
    model_update: false
    model_weights_path: null
    patch: null
    patch_halo: null
    single_batch_mode: false
    suffix: generic_confocal_3D_unet
  skip: false
- func: dt_watershed_task
  id: ccdbae63-a9bb-4451-9293-af392f8f1cc8
  images_inputs:
    image: LRP1 Channel1_generic_confocal_3D_unet_0_88052862-d88b-4bf7-9a7c-aa015ae97418
  node_type: node
  outputs:
  - LRP1 Channel1_generic_confocal_3D_unet_0_dt_watershed_cf253ac4-592d-4a34-abff-e7fb80966122
  parameters:
    alpha: 1.0
    apply_nonmax_suppression: false
    is_nuclei_image: false
    min_size: 100
    n_threads: null
    pixel_pitch: null
    sigma_seeds: 0.2
    sigma_weights: 2.0
    stacked: false
    threshold: 0.5
  skip: false
- func: clustering_segmentation_task
  id: 15f84855-b603-4fdc-9806-976729a3c2a1
  images_inputs:
    image: LRP1 Channel1_generic_confocal_3D_unet_0_88052862-d88b-4bf7-9a7c-aa015ae97418
    over_segmentation: LRP1 Channel1_generic_confocal_3D_unet_0_dt_watershed_cf253ac4-592d-4a34-abff-e7fb80966122
  node_type: node
  outputs:
  - LRP1 Channel1_generic_confocal_3D_unet_0_gasp_daffbdc3-4f10-43ed-ae59-ebde059fd95b
  parameters:
    beta: 0.6
    mode: gasp
    post_min_size: 100
  skip: false
- func: set_biggest_instance_to_zero_task
  id: ca7f1cf2-d447-4243-8977-23a9c7aaa7cc
  images_inputs:
    image: LRP1 Channel1_generic_confocal_3D_unet_0_gasp_daffbdc3-4f10-43ed-ae59-ebde059fd95b
  node_type: node
  outputs:
  - LRP1 Channel1_generic_confocal_3D_unet_0_gasp_bg0_462ba9f6-4277-41fd-bcc8-dffa272232d7
  parameters:
    instance_could_be_zero: false
  skip: false
- func: set_biggest_instance_to_zero_task
  id: 25fda67f-b77b-4184-844b-79b2ad776bad
  images_inputs:
    image: LRP1 Channel1_generic_confocal_3D_unet_0_gasp_bg0_462ba9f6-4277-41fd-bcc8-dffa272232d7
  node_type: node
  outputs:
  - LRP1 Channel1_generic_confocal_3D_unet_0_gasp_bg0_bg0_5624fbe6-b318-42ff-83fd-7ada881552c7
  parameters:
    instance_could_be_zero: false
  skip: false
- func: export_image_task
  id: 5f7640f5-1cf6-4dd5-8758-b69697cedddf
  images_inputs:
    export_directory: export_directory
    image: LRP1 Channel1_generic_confocal_3D_unet_0_gasp_bg0_bg0_5624fbe6-b318-42ff-83fd-7ada881552c7
    name_pattern: name_pattern
  node_type: leaf
  outputs: []
  parameters:
    data_type: uint16
    export_format: tiff
    key: segmentation
    scale_to_origin: true
  skip: false
